#!/bin/bash
NAME="$1"
PROJ="$2"

function rn_create_named_screen() {
  if [ -n "$PROJ" ]; then
    if [ -d $PROJ ]; then
      cd $PROJ
    else
      cd $HOME/projects/$PROJ
    fi
  fi
  screen -S "$NAME"
}

if screen -ls | grep -q "$NAME"; then
  if screen -x "$NAME"; then
    exit $?
  else
    rn_create_named_screen
  fi
else
  rn_create_named_screen
fi
